<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">    
    <title>Maze</title>    
    <script src="/src/aframe-v0.4.0.min.js"></script>
    <script src="/src/aframe-extras-v3.2.0.min.js"></script>
    <script src="js/script.js"></script>    
</head>

<body>
    <a-scene> <!-- fog="type: exponential; color: #f0f0f0; density: 0.019;" -->
        <!-- Assets -->
        <a-assets>
            <!-- ground pattern -->
            <img id="ground-pattern" crossorigin="anonymous" src="img/ground.png">            
            
            <!-- little towers --> 
            <a-asset-item id="lt1Obj" src="model/little-tower/little-tower-1.obj"></a-asset-item>
            <a-asset-item id="lt1Mtl" src="model/little-tower/little-tower-1.mtl"></a-asset-item>             
            
            <a-asset-item id="lt1oObj" src="model/little-tower/little-tower-1-open.obj"></a-asset-item>
            <a-asset-item id="lt1oMtl" src="model/little-tower/little-tower-1-open.mtl"></a-asset-item>             
            
            <a-asset-item id="lt2Obj" src="model/little-tower/little-tower-2.obj"></a-asset-item>
            <a-asset-item id="lt2Mtl" src="model/little-tower/little-tower-2.mtl"></a-asset-item>             
            
            <a-asset-item id="lt2oObj" src="model/little-tower/little-tower-2-open.obj"></a-asset-item>
            <a-asset-item id="lt2oMtl" src="model/little-tower/little-tower-2-open.mtl"></a-asset-item>             
                        
            
            <!-- tall towers -->
            <a-asset-item id="tt1Obj" src="model/tall-tower/tall-tower-1.obj"></a-asset-item>
            <a-asset-item id="tt1Mtl" src="model/tall-tower/tall-tower-1.mtl"></a-asset-item>             
            
            <a-asset-item id="tt1oObj" src="model/tall-tower/tall-tower-1.obj"></a-asset-item>
            <a-asset-item id="tt1oMtl" src="model/tall-tower/tall-tower-1.mtl"></a-asset-item>
            
            <a-asset-item id="tt2Obj" src="model/tall-tower/tall-tower-1.obj"></a-asset-item>
            <a-asset-item id="tt2Mtl" src="model/tall-tower/tall-tower-1.mtl"></a-asset-item>
            
            <a-asset-item id="tt3Obj" src="model/tall-tower/tall-tower-1.obj"></a-asset-item>
            <a-asset-item id="tt3Mtl" src="model/tall-tower/tall-tower-1.mtl"></a-asset-item>
                        
            <!-- wide towers -->
            <a-asset-item id="wt1Obj" src="model/wide-tower/wide-tower-1.obj"></a-asset-item>
            <a-asset-item id="wt1Mtl" src="model/wide-tower/wide-tower-1.mtl"></a-asset-item>
            
            <a-asset-item id="wt1oObj" src="model/wide-tower/wide-tower-1-open.obj"></a-asset-item>
            <a-asset-item id="wt1oMtl" src="model/wide-tower/wide-tower-1-open.mtl"></a-asset-item>
            
            <a-asset-item id="wt2Obj" src="model/wide-tower/wide-tower-2.obj"></a-asset-item>
            <a-asset-item id="wt2Mtl" src="model/wide-tower/wide-tower-2.mtl"></a-asset-item>            
            
        </a-assets>        
        
        <!-- Camera -->        
        <a-entity camera universal-controls kinematic-body jump-ability position="0 3 1.5">
            <a-ring id="cursor" radius-outer="0.15" radius-inner="0.10" scale="0.1 0.1 0.1" position="0 0 -0.3" material="color: #a3a3a3; shader: flat; opacity: 0.8;" cursor="maxDistance: 30; fuse: false"></a-ring>                    
        </a-entity>

        <!-- fading room -->
        <a-entity id="fading-room" position="0 0 0">
            
            <!-- button -->
            <a-entity position="0 0 -2">
            <a-cylinder static-body color="#ba0101" position="0 0.9 0" height="0.3" radius="0.8" trigger-others="target: .fading-room">
                <!--<a-animation attribute="position" begin="cursor-fusing" to="0 0.7 0" dur="500" fill="forwards"></a-animation>-->
                <a-animation attribute="position" begin="click" to="0 0.7 0" dur="500" fill="forwards"></a-animation>                
            </a-cylinder>
            <a-box static-body color="#2f2f2f" width="2" height="1.5" depth="2">
            </a-box>                
            </a-entity>
            
            <!-- walls -->
            <a-box class="fading-room" static-body position="0 2 -4" rotation="0 0 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="0 -2.1 -4" dur="1500" fill="forwards" delay="2800"></a-animation>            
            </a-box>
            <a-box class="fading-room" static-body position="0 2 4" rotation="0 0 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="0 -2.1 4" dur="1500" fill="forwards" delay="3000"></a-animation>                    
            </a-box>
            <a-box class="fading-room" static-body position="4 2 0" rotation="0 90 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="4 -2.1 0" dur="1500" fill="forwards" delay="2900"></a-animation>                    
            </a-box>
            <a-box class="fading-room" static-body position="-4 2 0" rotation="0 90 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="-4 -2.1 0" dur="1500" fill="forwards" delay="2700"></a-animation>            
            </a-box>
           
            <!-- ceiling -->
            <a-box class="fading-room" static-body position="0 4 0" width="8" height="0.1" depth="8" color="black">
                <a-animation begin="triggered" attribute="position" to="0 6 0" dur="2500" fill="forwards" delay="200"></a-animation>  
                <a-animation begin="triggered" attribute="width" to="0" dur="500" fill="forwards" delay="3000"></a-animation>                  
                <a-animation begin="triggered" attribute="depth" to="0" dur="500" fill="forwards" delay="3000"></a-animation>                  
            </a-box>
        </a-entity>
        
        
        <!-- city -->
        
            <!-- big towers -->
            <a-entity static-body position="0 0 -50" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
        
        <!-- end city -->
        
        <!-- Ground -->
        <a-plane static-body position="0 0 0" rotation="-90 0 0" width="600" height="600" material="shader: flat; repeat: 2000; src: #ground-pattern;"></a-plane>
        <!-- outer Walls -->
        <a-plane static-body position="300 20 0" rotation="0 -90 0" width="600" height="40" opacity="0.1" color="#5780db"></a-plane>
        <a-plane static-body position="-300 20 0" rotation="0 90 0" width="600" height="40" opacity="0.1" color="#5780db"></a-plane>
        <a-plane static-body position="0 20 300" rotation="0 180 0" width="600" height="40" opacity="0.1" color="#5780db"></a-plane>
        <a-plane static-body position="0 20 -300" rotation="0 0 0" width="600" height="40" opacity="0.1" color="#5780db"></a-plane>
        
        <!-- Sky -->
        <a-sky color="#67bedb"></a-sky> 
    </a-scene>
</body>

</html>