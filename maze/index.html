<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">    
    <title>Maze</title>    
    <script src="/src/aframe-v0.4.0.min.js"></script>
    <script src="/src/aframe-extras-v3.2.0.min.js"></script>
    <script src="js/script.js"></script>    
</head>

<body>
    <a-scene> <!-- fog="type: exponential; color: #f0f0f0; density: 0.019;" -->
        <!-- Assets -->
        <a-assets>
            <!-- ground pattern -->
            <img id="ground-pattern" crossorigin="anonymous" src="img/ground.png">  
            
            <!-- 360 background -->
            <img id="city-bg" crossorigin="anonymous" src="img/background.jpg">            
            
            <!-- little towers --> 
            <a-asset-item id="lt1Obj" src="model/little-tower/little-tower-1.obj"></a-asset-item>
            <a-asset-item id="lt1Mtl" src="model/little-tower/little-tower-1.mtl"></a-asset-item>             
            
            <a-asset-item id="lt1oObj" src="model/little-tower/little-tower-1-open.obj"></a-asset-item>
            <a-asset-item id="lt1oMtl" src="model/little-tower/little-tower-1-open.mtl"></a-asset-item>             
            
            <a-asset-item id="lt2Obj" src="model/little-tower/little-tower-2.obj"></a-asset-item>
            <a-asset-item id="lt2Mtl" src="model/little-tower/little-tower-2.mtl"></a-asset-item>             
            
            <a-asset-item id="lt2oObj" src="model/little-tower/little-tower-2-open.obj"></a-asset-item>
            <a-asset-item id="lt2oMtl" src="model/little-tower/little-tower-2-open.mtl"></a-asset-item>             
                        
            
            <!-- tall towers -->
            <a-asset-item id="tt1Obj" src="model/tall-tower/tall-tower-1.obj"></a-asset-item>
            <a-asset-item id="tt1Mtl" src="model/tall-tower/tall-tower-1.mtl"></a-asset-item>             
            
            <a-asset-item id="tt1oObj" src="model/tall-tower/tall-tower-1-open.obj"></a-asset-item>
            <a-asset-item id="tt1oMtl" src="model/tall-tower/tall-tower-1-open.mtl"></a-asset-item>
            
            <a-asset-item id="tt2Obj" src="model/tall-tower/tall-tower-2.obj"></a-asset-item>
            <a-asset-item id="tt2Mtl" src="model/tall-tower/tall-tower-2.mtl"></a-asset-item>
            
            <a-asset-item id="tt3Obj" src="model/tall-tower/tall-tower-3.obj"></a-asset-item>
            <a-asset-item id="tt3Mtl" src="model/tall-tower/tall-tower-3.mtl"></a-asset-item>
                        
            <!-- wide towers -->
            <a-asset-item id="wt1Obj" src="model/wide-tower/wide-tower-1.obj"></a-asset-item>
            <a-asset-item id="wt1Mtl" src="model/wide-tower/wide-tower-1.mtl"></a-asset-item>
            
            <a-asset-item id="wt1oObj" src="model/wide-tower/wide-tower-1-open.obj"></a-asset-item>
            <a-asset-item id="wt1oMtl" src="model/wide-tower/wide-tower-1-open.mtl"></a-asset-item>
            
            <a-asset-item id="wt2Obj" src="model/wide-tower/wide-tower-2.obj"></a-asset-item>
            <a-asset-item id="wt2Mtl" src="model/wide-tower/wide-tower-2.mtl"></a-asset-item>            
            
        </a-assets>        
        
        <!-- Camera -->        
        <a-entity class="kickstart" camera universal-controls="movementControls: automove, gamepad, keyboard" kinematic-body jump-ability position="0 3 1.5">
            <a-ring id="cursor" radius-outer="0.15" radius-inner="0.10" scale="0.1 0.1 0.1" position="0 0 -0.3" material="color: #a3a3a3; shader: flat; opacity: 0.8;" cursor="maxDistance: 30; fuse: true"></a-ring>                    
        </a-entity>

        <!-- fading room -->
        <a-entity id="fading-room" position="0 0 0">
            
            <!-- button -->
            <a-entity class="kickstart" position="0 0 -2">
                <a-cylinder static-body color="#ba0101" position="0 0.9 0" height="0.3" radius="0.8" trigger-others="target: .kickstart">
                    <!--<a-animation attribute="position" begin="cursor-fusing" to="0 0.7 0" dur="500" fill="forwards"></a-animation>-->
                    <a-animation attribute="position" begin="click" to="0 0.7 0" dur="500" fill="forwards"></a-animation>                
                </a-cylinder>
                <a-box static-body color="#2f2f2f" width="2" height="1.5" depth="2">
                </a-box>   
                <a-animation attribute="position" begin="triggered" to="0 -2 -2" dur="1500" delay="2000" fill="forwards"></a-animation>                
            </a-entity>
            
            <!-- walls -->
            <a-box class="kickstart" static-body position="0 2 -4" rotation="0 0 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="0 -2.1 -4" dur="1500" fill="forwards" delay="2800"></a-animation>            
            </a-box>
            <a-box class="kickstart" static-body position="0 2 4" rotation="0 0 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="0 -2.1 4" dur="1500" fill="forwards" delay="3000"></a-animation>                    
            </a-box>
            <a-box class="kickstart" static-body position="4 2 0" rotation="0 90 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="4 -2.1 0" dur="1500" fill="forwards" delay="2900"></a-animation>                    
            </a-box>
            <a-box class="kickstart" static-body position="-4 2 0" rotation="0 90 0" width="8" height="4" depth="0.1" color="black">
                <a-animation begin="triggered" attribute="position" to="-4 -2.1 0" dur="1500" fill="forwards" delay="2700"></a-animation>            
            </a-box>
           
            <!-- ceiling -->
            <a-box class="kickstart" static-body position="0 4 0" width="8" height="0.1" depth="8" color="black">
                <a-animation begin="triggered" attribute="position" to="0 6 0" dur="2500" fill="forwards" delay="200"></a-animation>  
                <a-animation begin="triggered" attribute="width" to="0" dur="500" fill="forwards" delay="3000"></a-animation>                  
                <a-animation begin="triggered" attribute="depth" to="0" dur="500" fill="forwards" delay="3000"></a-animation>                  
            </a-box>
        </a-entity>
        
        
        <!-- city -->
        
            <!-- towers -->
            <a-entity static-body position="0 -0.7 -55" scale="0.7 0.7 0.7" rotation="0 90 0" obj-model="obj: #tt3Obj; mtl: #tt3Mtl"></a-entity>        
            <a-entity static-body position="-60 -0.9 -10" scale="1 1 1" rotation="0 0 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="60 -0.9 -15" scale="1 1 1" rotation="0 -180 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>        
            <a-entity static-body position="-70 -0.8 40" scale="0.8 0.8 0.8" rotation="0 0 0" obj-model="obj: #tt2Obj; mtl: #tt2Mtl"></a-entity>        
            <a-entity static-body position="50 -0.9 65" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #wt1Obj; mtl: #wt1Mtl"></a-entity>        
            <a-entity static-body position="-20 -0.9 75" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #lt1oObj; mtl: #lt1oMtl"></a-entity>        
            <a-entity static-body position="-170 -0.9 130" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="15 -0.9 200" scale="1 1 1" rotation="0 180 0" obj-model="obj: #wt2Obj; mtl: #wt2Mtl"></a-entity>        
            <a-entity static-body position="105 -0.9 215" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #tt2Obj; mtl: #tt2Mtl"></a-entity>        
            <a-entity static-body position="100 -0.7 125" scale="0.8 0.8 0.8" rotation="0 -90 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="150 -0.9 110" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="165 -0.7 200" scale="0.7 0.7 0.7" rotation="0 -90 0" obj-model="obj: #tt3Obj; mtl: #tt3Mtl"></a-entity>        
            <a-entity static-body position="245 -0.7 150" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #wt1Obj; mtl: #wt1Mtl"></a-entity>        
            <a-entity static-body position="240 -0.9 235" scale="1 1 1" rotation="0 0 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="190 -0.7 265" scale="0.8 0.8 0.8" rotation="0 90 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>                    
            <a-entity static-body position="145 -0.8 265" scale="0.8 0.8 0.8" rotation="0 -90 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>                
            <a-entity static-body position="145 -0.9 50" scale="1 1 1" rotation="0 -180 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="235 -0.9 65" scale="1 1 1" rotation="0 -180 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>                
            <a-entity static-body position="150 -0.9 -35" scale="1 1 1" rotation="0 90 0" obj-model="obj: #wt2Obj; mtl: #wt2Mtl"></a-entity>        
            <a-entity static-body position="245 -0.9 15" scale="0.8 0.8 0.8" rotation="0 -180 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="235 -0.9 -35" scale="1 1 1" rotation="0 -180 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>                
            <a-entity static-body position="240 -0.9 -90" scale="1 1 1" rotation="0 0 0" obj-model="obj: #tt2Obj; mtl: #tt2Mtl"></a-entity>        
            <a-entity static-body position="135 -0.9 -155" scale="1 1 1" rotation="0 90 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="225 -0.9 -145" scale="1 1 1" rotation="0 -180 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>                
            <a-entity static-body position="230 -0.9 -225" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #wt1Obj; mtl: #wt1Mtl"></a-entity>                
            <a-entity static-body position="170 -0.9 -270" scale="1 1.2 1" rotation="0 90 0" obj-model="obj: #tt3Obj; mtl: #tt3Mtl"></a-entity>        
            <a-entity static-body position="110 -0.9 -250" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>                           
            <a-entity static-body position="55 -0.9 -260" scale="1 1.3 1" rotation="0 90 0" obj-model="obj: #tt2Obj; mtl: #tt2Mtl"></a-entity>        
            <a-entity static-body position="0 -0.9 -250" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="-55 -0.9 -260" scale="1 1 1" rotation="0 90 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="-160 -0.9 -255" scale="1.5 1.3 1" rotation="0 0 0" obj-model="obj: #wt2Obj; mtl: #wt2Mtl"></a-entity>        
            <a-entity static-body position="50 -0.7 -65" scale="0.8 0.8 0.8" rotation="0 -90 0" obj-model="obj: #tt2Obj; mtl: #tt2Mtl"></a-entity>        
            <a-entity static-body position="50 -0.9 -160" scale="1 1 1" rotation="0 0 0" obj-model="obj: #wt1Obj; mtl: #wt1Mtl"></a-entity>        
            <a-entity static-body position="-50 -0.6 -60" scale="0.7 0.7 0.7" rotation="0 -90 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="-30 -0.9 -160" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>                
            <a-entity static-body position="-105 -0.9 -70" scale="1 1 1" rotation="0 90 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="-85 -0.8 -120" scale="0.9 0.9 0.9" rotation="0 180 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="-140 -0.9 10" scale="1 1 1" rotation="0 -90 0" obj-model="obj: #wt2Obj; mtl: #wt2Mtl"></a-entity>        
            <a-entity static-body position="-230 -0.9 -195" scale="1 1 1" rotation="0 180 0" obj-model="obj: #tt3Obj; mtl: #tt3Mtl"></a-entity>        
            <a-entity static-body position="-210 -0.9 -130" scale="1 1 1" rotation="0 0 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>                
            <a-entity static-body position="-220 -0.9 -75" scale="1 1 1" rotation="0 0 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="-225 -0.9 -20" scale="1 1 1" rotation="0 -180 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="-235 -1.1 40" scale="1.2 1.2 1.2" rotation="0 0 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>                
            <a-entity static-body position="-225 -0.8 95" scale="0.9 0.9 0.9" rotation="0 0 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="-235 -0.8 140" scale="0.9 0.9 0.9" rotation="0 0 0" obj-model="obj: #lt1Obj; mtl: #lt1Mtl"></a-entity>        
            <a-entity static-body position="-65 -0.6 110" scale="0.7 0.7 0.7" rotation="0 -90 0" obj-model="obj: #tt1Obj; mtl: #tt1Mtl"></a-entity>        
            <a-entity static-body position="-65 -0.9 160" scale="1 1 1" rotation="0 0 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>        
            <a-entity static-body position="-210 -0.9 200" scale="1 1 1" rotation="0 180 0" obj-model="obj: #tt3Obj; mtl: #tt3Mtl"></a-entity>        
            <a-entity static-body position="-190 -0.9 260" scale="1 1.4 1" rotation="0 -180 0" obj-model="obj: #tt2Obj; mtl: #tt2Mtl"></a-entity>                    
            <a-entity static-body position="-110 -0.9 280" scale="1 1 0.8" rotation="0 180 0" obj-model="obj: #wt1Obj; mtl: #wt1Mtl"></a-entity>        
            <a-entity static-body position="50 -0.9 250" scale="1 1 1" rotation="0 180 0" obj-model="obj: #lt2Obj; mtl: #lt2Mtl"></a-entity>        
            <a-entity static-body position="0 -0.6 275" scale="0.7 0.7 0.7" rotation="0 -90 0" obj-model="obj: #tt2Obj; mtl: #tt2Mtl"></a-entity>                
            <a-entity static-body position="-40 -0.6 245" scale="0.7 0.7 0.7" rotation="0 0 0" obj-model="obj: #tt1oObj; mtl: #tt1oMtl"></a-entity>
        <!-- end city -->
        
        <!-- Ground -->
        <a-plane static-body position="0 0 0" rotation="-90 0 0" width="550" height="600" material="shader: flat; repeat: 400 400; src: #ground-pattern;"></a-plane>
        <!-- outer Walls -->
        <a-plane static-body position="235 20 0" rotation="0 -90 0" width="600" height="40" opacity="0" color="#5780db"></a-plane>
        <a-plane static-body position="-230 20 0" rotation="0 90 0" width="600" height="40" opacity="0" color="#5780db"></a-plane>
        <a-plane static-body position="0 20 265" rotation="0 180 0" width="600" height="40" opacity="0" color="#5780db"></a-plane>
        <a-plane static-body position="0 20 -265" rotation="0 0 0" width="600" height="40" opacity="0" color="#5780db"></a-plane>
        
        <!-- Sky -->
        <a-sky radius="1400" src="#city-bg"></a-sky> 
    </a-scene>
</body>

</html>